<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=us-ascii" http-equiv="content-type"/>
    <title>@PLUGIN_KEY@ Plugin</title>
    <link rel="stylesheet" href="../../plugins/@PLUGIN_NAME@/pluginhelp.css" type="text/css" media="screen"/>
</head>
<body>
<!--
    Generated by PluginWizardHelp
    https://github.com/electric-cloud/PluginWizardHelp
    Do *NOT* edit manually, use help file generation.
-->
<div class="help">
    <h1>@PLUGIN_KEY@</h1>
    <p>Plugin version @PLUGIN_VERSION@</p>
    <% if (revisionDate) { %>
    <p>Revised on ${revisionDate}</p>
    <% } %>
    <hr style="margin-left: -10px; margin-top: 10px; height: 1px; width: 100%; color: #5981BD;" noshade="noshade"/>
    <h1>Contents</h1>
    ${toc}

    ${chaptersPlacement.place('before', 'overview')}
    <h1>Overview</h1>
    <p>${overview}</p>
    ${chaptersPlacement.place('after', 'overview')}
    ${chaptersPlacement.place('before', 'supported_versions')}
    <% if (supportedVersions) { %>
    <h1 id="supportedVersions">Supported Versions</h1>
    <p>
        <% if (supportedVersionsText) { %>
        $supportedVersionsText
        <% } else { %>
        The plugin has been tested with the following versions:
        <% } %>
        <ul>
        <% supportedVersions.each { version -> %>
            <li>${version}</li>
        <% } %>
        </ul>
    </p>
    ${chaptersPlacement.place('after', 'supported_versions')}
    <% } %>
    ${chaptersPlacement.place('before', 'prerequisites')}
    <% if (prerequisites) { %>
    <div id="prerequisites">
        <h1>Prerequisites</h1>
        ${prerequisites}
    </div>
    <% } %>
    ${chaptersPlacement.place('after', 'prerequisites')}

    <!--TODO custom blocks-->

    <% if (configurationProcedure) { %>
    <div id="CreateConfiguration">
        <a name='CreateConfiguration' id="CreateConfiguration"> </a>
        <h1>Plugin Configurations</h1>

        <p>
            Plugin configurations are sets of parameters that apply
            across some or all of the plugin procedures. They
            reduce repetition of common values, create
            predefined parameter sets for end users, and
            securely store credentials where needed. Each configuration
            is given a unique name that is entered in designated
            parameters on procedures that use them.<br /><br />
        </p>

        <h3>Creating Plugin Configurations</h3>
        <p>To create plugin configurations in CloudBees Flow,
            do these steps:</p>

        <li>Go to <b>Administration</b> &gt; <b>Plugins</b> to open the Plugin Manager.</li>
        <li>Find the @PLUGIN_NAME@ row.</li>
        <li>Click <b>Configure</b> to open the
             Configurations page.</li>
        <li>Click <b>Create Configuration</b> as per the description of parameters below.</li>
        <% if (configurationProcedure.preface) { %>
        ${configurationProcedure.preface}
        <% } %>
        Configuration Parameters
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <% for (def field in configurationProcedure.fields) { %>
            <tr>
                <% if ("header" == field.type) { %>
                    <td colspan="2" align="center"><strong>${field.name}</strong></td>
                <% } else { %>
                    <td <% if (field.required) print 'class="required"' %>>${field.name}</td>
                    <td>${field.documentation}</td>
                <% } %>
            </tr>
            <% } %>
            </tbody>
        </table>
        <% if (configurationProcedure.postface) { %>
        ${configurationProcedure.postface}
        <% } %>
    </div>
    <% } %>

    ${chaptersPlacement.place('before', 'procedures')}

    <h1 id="procedures">Plugin Procedures</h1>
    <% if (separateProceduresToc) {
        println '<ul>'
        procedures.each { procedure ->
    %>
        <li><a href="#${procedure.id}">${procedure.name}</a></li>
    <%
        } // each
        println '</ul>'
    } //if %>
    <% if (proceduresPreface) { %>
    <p>
        ${proceduresPreface}
    </p>
    <% } %>

    <% procedures.each { procedure -> %>
    <div id="${procedure.id}">
        <h2>${procedure.name}${procedure.deprecated ? ' (DEPRECATED)' : ''}</h2>
        <% if (procedure.token) { %>

        <p>${procedure.token}</p>

        <% } %>
        <% if (!procedure.omitDescription && !metadata.omitDescription) { %>
        ${procedure.description}
        <% } %>
        <% if (procedure.preface) { %>
            ${procedure.preface}
        <% } %>
        <h3>${procedure.name} Parameters</h3>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <% for (def field in procedure.fields) { %>
            <tr>
                <% if ("header" == field.type) { %>
                <td colspan="2" align="center"><strong>${field.name}</strong></td>
                <% } else { %>
                <td <% if (field.required) print 'class="required"' %>>${field.name}</td>
                <td>${field.documentation}</td>
                <% } %>
            </tr>
            <% } %>
            </tbody>
        </table>

        <% if (procedure.outputParameters != null) { %>
        <h4>Output Parameters</h4>
        <table class="grid">
            <thead>
            <tr>
                <th>Parameter</th>
                <th>Description</th>
            </tr>
            </thead>
            <tbody>
            <% for (def param in procedure.outputParameters) { %>
            <tr>
                <td>${param.name}</td>
                <td>${param.description}</td>
            </tr>
            <% } %>
            </tbody>
        </table>
        <% } %>

        <% if (procedure.postface) { %>
        <p>
            ${procedure.postface}
        </p>
        <% } %>
    </div>

    <% } %>

    ${chaptersPlacement.place('after', 'procedures')}

    ${chaptersPlacement.place('before', 'use_cases')}

    <% if (useCases) { %>
    <h1 id="usecases">Use Cases</h1>

    <% useCases.each { useCase -> %>
    <div id="${useCase.id}">
        ${useCase.body}
    </div>
    <% } } %>

    ${chaptersPlacement.place('after', 'use_cases')}
    ${chaptersPlacement.place('before', 'known_issues')}
    <% if (knownIssues) { %>
    <h1 id="knownIssues">Known Issues</h1>
    <div>
        ${knownIssues}
    </div>
    <% } %>
    ${chaptersPlacement.place('after', 'known_issues')}

    <h1 id="releaseNotes">Release Notes</h1>
    <% changelog.getOrderedVersions().each { version -> %>
    <h3>@PLUGIN_KEY@ ${version.version}</h3>
    <ul>
        <% version.changes.each { change -> %>
        <li>${change}</li>
        <% } %>
    </ul>
    <% } %>
</div>
</body>
</html>
